<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.0">



  <link rel="icon" type="image/png" sizes="32x32" href="/images/searchicon.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/searchicon.png?v=7.0.0">








<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.0.0',
    sidebar: {"position":"left","width":300,"display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="Tony&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/page/11/index.html">
<meta property="og:site_name" content="Tony&#39;s Blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Tony&#39;s Blog">






  <link rel="canonical" href="http://yoursite.com/page/11/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Tony's Blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Tony's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
        
        
        
          
            
            
            
              
              

  
  
    
  
  <li class="menu-item menu-item-iot-jotting">

    
    
    
      
    

    

    <a href="/iot-misc/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>IoT Jotting</a>

  </li>


            
          
        
        
        
        
          
            
            
            
              
              

  
  
    
  
  <li class="menu-item menu-item-risc-jotting">

    
    
    
      
    

    

    <a href="/risc/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>RISC Jotting</a>

  </li>


            
          
        

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/07/linux/misc/linux-cmds/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tony">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tony's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/11/07/linux/misc/linux-cmds/" class="post-title-link" itemprop="url">Misc Linux usage</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-11-07 10:19:10" itemprop="dateCreated datePublished" datetime="2018-11-07T10:19:10+08:00">2018-11-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2020-04-21 11:36:15" itemprop="dateModified" datetime="2020-04-21T11:36:15+08:00">2020-04-21</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/Misc-Usage/" itemprop="url" rel="index"><span itemprop="name">Misc Usage</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Network"><a href="#Network" class="headerlink" title="Network"></a><strong>Network</strong></h4><ul>
<li>Assign the current network interface to an IP address. Use <code>ifconfig netmask</code> . e.g.,</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ifconfig eth0 192.168.2.1 netmask 255.255.255.0</span><br></pre></td></tr></table></figure>

<ul>
<li>Use nmap to report whether your device uses a Linux TCP/IP stack:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nmap -P0 -O</span><br></pre></td></tr></table></figure>

<ul>
<li>Show IP ports</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ lsof -i -P -n</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Symbolic-link"><a href="#Symbolic-link" class="headerlink" title="Symbolic link"></a><strong>Symbolic link</strong></h4><ul>
<li>Usage:</li>
</ul>
<p>┌── ln(1) link, ln – make links<br>│   ┌── Create a symbolic link.<br>│   │                         ┌── the optional path to the intended symlink<br>│   │                         │   if omitted, symlink is in . named as destination<br>│   │                         │   can use . or ~ or other relative paths<br>│   │                   ┌─────┴────────┐<br>ln -s /path/to/original /path/to/symlink<br>      └───────┬───────┘<br>              └── the path to the original file/folder<br>                  can use . or ~ or other relative paths</p>
<ul>
<li>Example:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> content &gt; original</span><br><span class="line">$ ln -s original symlink</span><br><span class="line">$ ls -la original symlink</span><br><span class="line">-rw-r--r--  1 grgarside  staff    8 28 Jan 18:44 original</span><br><span class="line">lrwxr-xr-x  1 grgarside  staff    8 28 Jan 18:44 symlink -&gt; original</span><br><span class="line">$ cat symlink</span><br><span class="line">content</span><br></pre></td></tr></table></figure>

<ul>
<li>MacOS exception:</li>
</ul>
<p>Notice MacOS symlink creation may be different. For example, if to create a link for commander of SimplicityStudio, we could:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ln -s /Applications/Simplicity Studio.app/Contents/Eclipse/developer/adapter_packs/commander/Commander.app/Contents/MacOS/commander /usr/<span class="built_in">local</span>/bin</span><br></pre></td></tr></table></figure>

<p>There’s no need to specify the name of command under /usr/local/bin, but providing a path is enough.</p>
<ul>
<li>Windows/Cygwin exception:</li>
</ul>
<p>There is a simular link command in Windows/Cygwin namely <code>mklink</code>. There is one tricky usage of such a command when trying to compile under Cygwin. Sometimes the path is too long for GCC to handle (usually incurs error like no such file or path). To resolve the issue, use mklink to shorten the path. Say we have a fairly long path of the SDK, e.g., E:\xxx\ and our makefile is under E:\xxx\yyy. One could try the following:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /J indicates a path link.</span></span><br><span class="line">mklink /J sdk E:\xxx</span><br><span class="line"><span class="comment"># Now the path becomes sdk\yyy\</span></span><br></pre></td></tr></table></figure>

<hr>
<h4 id="PATH-environment"><a href="#PATH-environment" class="headerlink" title="PATH environment"></a><strong>PATH environment</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>

<p>In Unix systems, we sometimes want to execute a program in a terminal without specifying the its path. In this case, it’s easy to add the path of the program being a variable to the PATH environment. To do this, we could follow the command below:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:[path to the program]</span><br></pre></td></tr></table></figure>

<p>Notice when the terminal is terminated, the above command has no effect after a new terminal is opened. To ensure the PATH environment is modified permanently, we could add the above command in ~/.bashrc. Editor like vi/vim/nano could be used.</p>
<hr>
<h4 id="GNU-screen"><a href="#GNU-screen" class="headerlink" title="GNU screen"></a><strong>GNU screen</strong></h4><p>To connect to a serial on a console, we could use screen. The following is an example:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ screen /dev/ttyUSB0 115200 8N1</span><br></pre></td></tr></table></figure>

<p>On MacOS, you could kill the console (while you’re in the screen session) by command + A + , and typing [y].<br>Another way to kill a screen session is to first know what sessions are available:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ screen -ls</span><br></pre></td></tr></table></figure>

<p>Then, kill the specified session Id using the following command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ screen -X -S [Session ID] quit</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a><strong>Hexo</strong></h4><p>Refresh the build after modifications.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>Publish to my github account.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>Create a page used for dropdown view:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new page <span class="string">"name"</span></span><br></pre></td></tr></table></figure>

<p>The created path will be: [hexo_directory]/source/[name]/index.md<br>To add the page in the dropdown list, we need to modify the <em>_config.yml</em> file under [hexo_directory]/theme/next/ directory, e.g.,</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IoT Ecosystems:</span><br><span class="line">   SDK review: /sdk-review/</span><br><span class="line">   Data model analysis: /data-model/</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Git"><a href="#Git" class="headerlink" title="Git"></a><strong>Git</strong></h4><ul>
<li>How to save your ass from a local merge yet being pushed.</li>
</ul>
<p>The following command would go back to one commit.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard HEAD~1</span><br></pre></td></tr></table></figure>

<ul>
<li>How to add files that were copied from somewhere else (not in the repo). You need the following command to unstage the files:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset HEAD path/to/file</span><br></pre></td></tr></table></figure>

<p>Then do <em>git add</em> and <em>git commit</em>.</p>
<ul>
<li>How to revert:</li>
</ul>
<p>Git revert to a commit will eventually roll out a new commit. If git reset is used, there will be no commit.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Revert the latest commit.</span></span><br><span class="line">$ git revert HEAD</span><br><span class="line"><span class="comment"># Revert a specific commit.</span></span><br><span class="line">$ git revert commit [commit No.]</span><br></pre></td></tr></table></figure>

<ul>
<li>How to un-track a folder but keep the folder on your disk.<br>Link: <a href="https://stackoverflow.com/questions/24290358/remove-a-folder-from-git-tracking" target="_blank" rel="noopener">https://stackoverflow.com/questions/24290358/remove-a-folder-from-git-tracking</a></li>
</ul>
<p>This also works for the situation where an unwanted submodule causing fatal error when ‘git add’. The basic idea is to remove the folder from git’s cache.</p>
<ol>
<li>Add the folder to the .gitignore</li>
<li>Remove the folder from your local git tracking, but keep it on your disk.</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm -r --cached path_to_your_folder/</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Push your changes to your git repo.</li>
</ol>
<blockquote>
<p>The folder will be considered “deleted” from Git’s point of view (i.e. they are in past history, but not in the latest commit, and people pulling from this repo will get the files removed from their trees), but stay on your working directory because you’ve used –cached.</p>
</blockquote>
<ul>
<li>How to delete a local branch and a remote branch.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Delete local branch</span></span><br><span class="line">git branch -d &#123;branch name&#125;</span><br><span class="line"><span class="comment"># Delete remote branch</span></span><br><span class="line">git push origin --delete &#123;branch name&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>How to add ssh keys to your stash or github account.</li>
</ul>
<p>Instead of using Http connections, we could use ssh keys to push/pull a git repo. This prevents user from entering username and keys each time using Http connections. For a branch new machine, we need to firstly create ssh private and public keys (also known as key pairs).</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"your_email@example.com"</span></span><br></pre></td></tr></table></figure>

<p>Notice the email account is optional. You could pass key saving path and passphrase settings. After done, you should be able to see <strong>id_rsa.pub</strong> file under ~/.ssh/ directory. Copy the content of id_rsa.pub to your git or stash account (usually at security, adding keys tab).</p>
<p>Reference:</p>
<ul>
<li><a href="https://confluence.atlassian.com/bitbucketserver/creating-ssh-keys-776639788.html" target="_blank" rel="noopener">https://confluence.atlassian.com/bitbucketserver/creating-ssh-keys-776639788.html</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys--2" target="_blank" rel="noopener">https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys--2</a></li>
</ul>
<hr>
<h4 id="MacOS-dylib"><a href="#MacOS-dylib" class="headerlink" title="MacOS dylib"></a><strong>MacOS dylib</strong></h4><p>There could be an error when using dylib (dynamic library) on MacOS. The error could be:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dyld: Library not loaded: @rpath/libcmocka.0.dylib</span><br><span class="line">  Referenced from: /Users/tozhao/Documents/Stash_Projects/customer-projects/xiaomi/6.3.0/tests-mac/./<span class="built_in">test</span></span><br><span class="line">  Reason: image not found</span><br><span class="line">[1]    8541 abort      ./<span class="built_in">test</span></span><br></pre></td></tr></table></figure>

<p>The problem is this dylib does not specify the execution path. When checking the dylib with otool, we could find:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">libcmocka.0.4.1.dylib:</span><br><span class="line">	@rpath/libcmocka.0.dylib (compatibility version 0.0.0, current version 0.4.1)</span><br><span class="line">	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1238.60.2)</span><br></pre></td></tr></table></figure>

<p>To solve the problem, we could use install_name_tool like the following example:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ install_name_tool -change @rpath/libcmocka.0.dylib [path/to/the/exefile] [exefile]</span><br></pre></td></tr></table></figure>

<p>The exefile is the binary that is linked with the dylib.</p>
<p>References:</p>
<ul>
<li><a href="https://software.intel.com/en-us/forums/intel-c-compiler/topic/698021" target="_blank" rel="noopener">https://software.intel.com/en-us/forums/intel-c-compiler/topic/698021</a></li>
<li><a href="https://stackoverflow.com/questions/17703510/dyld-library-not-loaded-reason-image-not-loaded" target="_blank" rel="noopener">https://stackoverflow.com/questions/17703510/dyld-library-not-loaded-reason-image-not-loaded</a>.</li>
</ul>
<hr>
<h4 id="SSH"><a href="#SSH" class="headerlink" title="SSH"></a><strong>SSH</strong></h4><ul>
<li>Remove ssh known hosts on a Linux machine.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -R 192.168.42.1 -f <span class="string">"~/.ssh/known_hosts"</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Remove ssh known hosts on a MacOS.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -R 192.168.42.1</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Markdown"><a href="#Markdown" class="headerlink" title="Markdown"></a><strong>Markdown</strong></h4><ul>
<li>Embedded an image in a markdown script.<br>Ensure you know the url path of that image. The url path could be a github path. Usually, the url from the github would not be rendered, and you will see a broken link in the position. To solve this, add <code>?raw=true</code> at the end of the url and place a line by following the syntax as bellow:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ![link text](url + `?raw=<span class="literal">true</span>`)</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Run-exe-in-back-end"><a href="#Run-exe-in-back-end" class="headerlink" title="Run exe in back-end"></a><strong>Run exe in back-end</strong></h4><p>Z3GatewayHost application forks a child process to handle communications with serial port. Use <em>&amp;</em> at the end would cause assertion in the child process. A reliable way to run the application in the back-end could refer to the following init script which was developed for running on OpenWrt.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">start</span></span>() &#123;</span><br><span class="line">  touch /tmp/silabspipeopen</span><br><span class="line">  mkfifo /tmp/silabs</span><br><span class="line">  <span class="keyword">while</span> [ -f /tmp/silabspipeopen ]; <span class="keyword">do</span> sleep 1; <span class="keyword">done</span> &gt; /tmp/silabs &amp;</span><br><span class="line">  /opt/siliconlabs/zigbeegateway/siliconlabsgateway -n 1 -p ttyS1 &lt; /tmp/silabs &amp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">stop</span></span>() &#123;</span><br><span class="line">  rm /tmp/silabspipeopen</span><br><span class="line">  rm /tmp/silabs</span><br><span class="line">  killall siliconlabsgateway</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Bash-syntax"><a href="#Bash-syntax" class="headerlink" title="Bash syntax"></a><strong>Bash syntax</strong></h4><ul>
<li>Check if there is a specified directory.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ -d <span class="string">"<span class="variable">$DIRECTORY</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line">  <span class="comment"># Control will enter here if $DIRECTORY exists.</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>Or if there is NOT a specified directory.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ ! -d <span class="string">"<span class="variable">$DIRECTORY</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line">  <span class="comment"># Control will enter here if $DIRECTORY exists.</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Check if the system is a MacOS or a Linux:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SYSTEM=$(uname)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Check if it's a MacOS</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$SYSTEM</span> == <span class="string">'Darwin'</span> ]]; <span class="keyword">then</span></span><br><span class="line">  <span class="comment"># Some actions.</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Check if it's a Linux</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$SYSTEM</span> == <span class="string">'Linux'</span> ]]; <span class="keyword">then</span></span><br><span class="line">  <span class="comment"># Some actions.</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Conditionally exit a bash script.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># exit n.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$SOMECONDITION</span> ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">exit</span> 0</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"This line will never be reached!"</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Check if a long string contains a subString.</li>
</ul>
<p>Reference: <a href="https://stackoverflow.com/questions/229551/how-to-check-if-a-string-contains-a-substring-in-bash" target="_blank" rel="noopener">https://stackoverflow.com/questions/229551/how-to-check-if-a-string-contains-a-substring-in-bash</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string=<span class="string">'My long string'</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$string</span> == *<span class="string">"My long"</span>* ]]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"It's there!"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>


          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/10/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/25/">25</a><a class="extend next" rel="next" href="/page/12/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Tony</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives">
                
                    <span class="site-state-item-count">25</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">13</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="https://github.com/TonyZhaoyu/" title="GitHub &rarr; https://github.com/TonyZhaoyu/" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Tony</span>

  

  
</div>









        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.0"></script>

  <script src="/js/src/motion.js?v=7.0.0"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.0"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.0"></script>




  

  


  <script src="/js/src/bootstrap.js?v=7.0.0"></script>



  



  





  

  

  

  

  

  

  

  

  

  

  

  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #eee;
      background-image: linear-gradient(#fcfcfc, #eee);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>
  <script>
    $('.highlight').each(function(i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap');
      $(e).after($wrap);
      $wrap.append($('<button>').addClass('copy-btn').append('Copy').on('click', function(e) {
        var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
          return $(e).text();
        }).toArray().join('\n');
        var ta = document.createElement('textarea');
        var range = document.createRange(); //For Chrome
        var sel = window.getSelection(); //For Chrome
        var yPosition = window.pageYOffset || document.documentElement.scrollTop;
        ta.style.top = yPosition + 'px'; //Prevent page scroll
        ta.style.position = 'absolute';
        ta.style.opacity = '0';
        ta.value = code;
        ta.textContent = code; //For FireFox
        ta.contentEditable = true;
        ta.readOnly = false;
        document.body.appendChild(ta);
        range.selectNode(ta);
        sel.removeAllRanges();
        sel.addRange(range);
        ta.setSelectionRange(0, code.length);
        var result = document.execCommand('copy');
        
        ta.blur(); //For iOS
        $(this).blur();
      })).on('mouseleave', function(e) {
        var $b = $(this).find('.copy-btn');
        setTimeout(function() {
          $b.text('Copy');
        }, 300);
      }).append(e);
    })
  </script>


  

</body>
</html>
